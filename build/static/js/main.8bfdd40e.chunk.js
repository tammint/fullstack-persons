(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{16:function(e,n,t){e.exports=t(43)},22:function(e,n,t){},43:function(e,n,t){"use strict";t.r(n);var a=t(0),o=t.n(a),r=t(10),l=t.n(r),i=(t(22),t(11)),u=t(12),s=t(14),c=t(13),m=t(15),h=function(e){var n=e.person,t=e.removePerson;return o.a.createElement("li",null,n.name,": ",n.number,o.a.createElement("button",{onClick:t},"poista"))},f=function(e){var n=e.nameChange,t=e.numberChange,a=e.state;return o.a.createElement("div",null,o.a.createElement("div",null,"nimi:",o.a.createElement("input",{value:a.newName,onChange:n})),o.a.createElement("div",null,"numero:",o.a.createElement("input",{value:a.newNumber,onChange:t})),o.a.createElement("div",null,o.a.createElement("button",{type:"submit"},"lis\xe4\xe4")))},p=t(2),v=t.n(p),d="/api/persons",g={getAll:function(){return v.a.get(d).then(function(e){return e.data})},create:function(e){return v.a.post(d,e)},update:function(e,n){return v.a.put("".concat(d,"/").concat(e),n)},remove:function(e){return console.log("removing"),v.a.delete("".concat(d,"/").concat(e))}},b=function(e){var n=e.message;return null===n?null:o.a.createElement("div",{className:"notification"},n)},E=function(e){function n(){var e;return Object(i.a)(this,n),(e=Object(s.a)(this,Object(c.a)(n).call(this))).addPerson=function(n){n.preventDefault();for(var t=!1,a=0;a<e.state.persons.length;a++)e.state.persons[a].name===e.state.newName&&(t=!0);if(!0===t)alert("Nimi on jo luettelossa");else{var o={name:e.state.newName,number:e.state.newNumber};g.create(o).then(function(n){e.setState({persons:e.state.persons.concat(n.data),newName:"",newNumber:"",notification:"Lis\xe4ttiin henkil\xf6 ".concat(o.name)}),setTimeout(function(){e.setState({notification:null})},5e3)}),console.log("lis\xe4t\xe4\xe4n henkil\xf6")}},e.removePerson=function(e){return function(){window.confirm("Poistetaanko henkil\xf6?")&&(console.log("poisto"),g.remove(e))}},e.handleNameChange=function(n){e.setState({newName:n.target.value})},e.handleNumberChange=function(n){e.setState({newNumber:n.target.value})},e.state={persons:[],newName:"",newNumber:"",notification:null},e}return Object(m.a)(n,e),Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this;g.getAll().then(function(n){e.setState({persons:n})})}},{key:"render",value:function(){var e=this;return console.log(this.state.persons),o.a.createElement("div",null,o.a.createElement("h2",null,"Puhelinluettelo"),o.a.createElement(b,{message:this.state.notification}),o.a.createElement("form",{onSubmit:this.addPerson},o.a.createElement(f,{nameChange:this.handleNameChange,numberChange:this.handleNumberChange,state:this.state})),o.a.createElement("h2",null,"Numerot"),o.a.createElement("ul",null,this.state.persons.map(function(n){return o.a.createElement(h,{key:n.name,person:n,removePerson:e.removePerson(n.id)})})))}}]),n}(o.a.Component);l.a.render(o.a.createElement(E,null),document.getElementById("root"))}},[[16,2,1]]]);
//# sourceMappingURL=main.8bfdd40e.chunk.js.map